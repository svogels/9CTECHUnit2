import pygame
import sys

# Initialize Pygame
pygame.init()

# Constants
WINDOW_WIDTH = 800
WINDOW_HEIGHT = 600
FPS = 60

# Colors (R, G, B)
BLACK = (0, 0, 0)
WHITE = (255, 255, 255)
RED = (255, 0, 0)
GREEN = (0, 255, 0)
BLUE = (0, 0, 255)

# Set up the display
screen = pygame.display.set_mode((WINDOW_WIDTH, WINDOW_HEIGHT))
pygame.display.set_caption("Two Player Demo")

# --- Player 1 variables ---
player1_x = 300      # Start a bit to the left
player1_y = 500      # Near bottom
player1_width = 50
player1_height = 30
player1_speed = 5

# --- Player 2 variables (MODIFIED) ---
player2_x = 500      # Start a bit to the right
player2_y = 20       # Near top (This line was changed)
player2_width = 50
player2_height = 30
player2_speed = 5

# Game variables
clock = pygame.time.Clock()
running = True

# Game loop
while running:
    # 1. HANDLE EVENTS (INPUT)
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        elif event.type == pygame.KEYDOWN:
            if event.key == pygame.K_ESCAPE:
                running = False
    
    # 2. HANDLE CONTINUOUS KEYBOARD INPUT
    keys = pygame.key.get_pressed()
    
    # --- Player 1 Movement (Left/Right Arrows or A/D) ---
    if keys[pygame.K_LEFT] or keys[pygame.K_a]:
        player1_x -= player1_speed
        if player1_x < 0:
            player1_x = 0
    if keys[pygame.K_RIGHT] or keys[pygame.K_d]:
        player1_x += player1_speed
        if player1_x > WINDOW_WIDTH - player1_width:
            player1_x = WINDOW_WIDTH - player1_width

    # --- Player 2 Movement (J/L keys) ---
    if keys[pygame.K_j]:
        player2_x -= player2_speed
        if player2_x < 0:
            player2_x = 0
    if keys[pygame.K_l]:
        player2_x += player2_speed
        if player2_x > WINDOW_WIDTH - player2_width:
            player2_x = WINDOW_WIDTH - player2_width
            
    # 3. DRAW EVERYTHING (OUTPUT)
    # Clear screen
    screen.fill(BLACK)
    
    # Draw Player 1 (Green)
    pygame.draw.rect(screen, GREEN, (player1_x, player1_y, player1_width, player1_height))
    
    # Draw Player 2 (Blue)
    pygame.draw.rect(screen, BLUE, (player2_x, player2_y, player2_width, player2_height))
    
    # --- Draw reference points ---
    pygame.draw.circle(screen, RED, (0, 0), 5) # Top-left
    center_x = WINDOW_WIDTH // 2
    center_y = WINDOW_HEIGHT // 2
    pygame.draw.circle(screen, WHITE, (center_x, center_y), 3) # Center
    
    # Update display
    pygame.display.flip()
    clock.tick(FPS)

# Clean up
pygame.quit()
sys.exit()