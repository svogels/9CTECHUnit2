import pygame
import sys

# Initialize Pygame
pygame.init()

# Constants
WINDOW_WIDTH = 800
WINDOW_HEIGHT = 600
FPS = 60

# Colors (R, G, B)
BLACK = (0, 0, 0)
WHITE = (255, 255, 255)
RED = (255, 0, 0)
GREEN = (0, 255, 0)
BLUE = (0, 0, 255)

# Set up the display
screen = pygame.display.set_mode((WINDOW_WIDTH, WINDOW_HEIGHT))
pygame.display.set_caption("Drawing and Movement Demo")

# Player variables
player_x = 400  # Start in middle of screen
player_y = 500  # Near bottom like Space Invaders
player_width = 50
player_height = 30
player_speed = 5  # How fast the player moves

# Game variables
clock = pygame.time.Clock()
running = True

# Game loop
while running:
    # 1. HANDLE EVENTS (INPUT)
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        elif event.type == pygame.KEYDOWN:
            if event.key == pygame.K_ESCAPE:
                running = False
    
    # 2. HANDLE CONTINUOUS KEYBOARD INPUT
    keys = pygame.key.get_pressed()
    
    # Move left
    if keys[pygame.K_LEFT] or keys[pygame.K_a]:
        player_x -= player_speed
        # Boundary check - don't go off left edge
        if player_x < 0:
            player_x = 0
    
    # Move right
    if keys[pygame.K_RIGHT] or keys[pygame.K_d]:
        player_x += player_speed
        # Boundary check - don't go off right edge
        if player_x > WINDOW_WIDTH - player_width:
            player_x = WINDOW_WIDTH - player_width
    
    # 3. DRAW EVERYTHING (OUTPUT)
    # Clear screen
    screen.fill(BLACK)
    
    # Draw the player rectangle
    pygame.draw.rect(screen, GREEN, (player_x, player_y, player_width, player_height))
    
    # Draw some reference points to understand coordinates
    # Top-left corner (0,0)
    pygame.draw.circle(screen, RED, (0, 0), 5)
    
    # Center of screen
    center_x = WINDOW_WIDTH // 2
    center_y = WINDOW_HEIGHT // 2
    pygame.draw.circle(screen, WHITE, (center_x, center_y), 3)
    
    # Update display
    pygame.display.flip()
    clock.tick(FPS)

# Clean up
pygame.quit()
sys.exit()